
# Chrome Extension 需求規格書 - 閱讀區塊強調工具

## 📌 專案名稱
閱讀區塊專注模式擴充功能（Reader Focus Blocker）

## 🎯 功能描述
本擴充功能讓使用者可手動選取一個網頁區塊（如文章內容），自動隱藏其餘部分（如 header、sidebar），提升閱讀專注力。具備可還原功能。

---

## 🧩 功能項目

### 1. 懸浮控制按鈕
- 固定於畫面左上或右上（可切換位置）
- 按鈕文字：「選取區塊 / 取消專注」
- 始終懸浮在網頁最上層，使用 `z-index: 9999`
- 可拖曳調整位置（進階）

### 2. 選取區塊模式
- 點擊懸浮按鈕後啟用
- 使用者 hover 任意 `<div>` 區塊時，自動加上紅色邊框（模擬 devtools 效果）
- 再次點擊將選取該區塊並進入專注模式

### 3. 專注模式（強調顯示選取區塊）
- 隱藏選取區塊以外所有 body 內的元素（`display: none`）
- 被選區塊套用：
  - `width: 100vw`
  - `position: static`（可視情況調整）
- 儲存原始顯示狀態以利復原

### 4. 還原原始畫面
- 再次點擊懸浮按鈕或從 popup 中操作，即可還原頁面
- 所有原本被隱藏的區塊顯示回來
- 移除被選區塊的額外樣式

---

## 📁 檔案結構
```
📦reader-focus-extension
 ┣ 📜manifest.json
 ┣ 📜content.js
 ┣ 📜popup.html
 ┣ 📜popup.js
 ┣ 📜styles.css（可選）
```

---

## 🛠 技術規格

| 模組 | 技術說明 |
|------|----------|
| 架構 | Chrome Extension (Manifest V3) |
| 語言 | 原生 JavaScript, HTML, CSS |
| 主功能 | 操作 DOM, 偵測 mouse event, 儲存狀態 |
| UI控制 | 懸浮按鈕（`<button>`）, hover 效果（outline） |
| 邏輯 | 模式切換、選區記憶、DOM 隱藏顯示控制 |

---

## ✅ 功能狀態（初版）
- [x] 懸浮按鈕切換控制模式
- [x] hover 預覽選取區塊
- [x] click 啟用專注模式並隱藏其他內容
- [x] 點擊再次還原
- [ ] 提供 popup 介面操作（進行中）
- [ ] 使用者偏好儲存（未來擴充）

---

## 🧪 測試情境
1. 在新聞網站中使用此功能，選取主內容區塊。
2. 驗證 hover 時顯示邊框，並能選取。
3. 點選後其他區塊應完全消失。
4. 點擊還原後，畫面應恢復原狀。

---

## 🔄 未來擴充想法
- 支援儲存自定區塊規則並自動套用
- 加入多區塊選取模式
- 支援自動調整閱讀排版（如字體大小、行距）
- 黑暗模式閱讀樣式切換
